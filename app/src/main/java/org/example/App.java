/*
 * This source file was generated by the Gradle 'init' task
 */
package org.example;

import javafx.application.Application;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.Accordion;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.SplitPane;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.Background;
import javafx.scene.layout.Border;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.Pane;
import javafx.scene.layout.Region;
import javafx.scene.layout.StackPane;
import javafx.scene.control.TitledPane;
import javafx.scene.layout.VBox;
import javafx.scene.paint.Color;
import javafx.scene.shape.Line;
import javafx.scene.shape.Rectangle;
import javafx.scene.text.Text;
import javafx.stage.Stage;


public class App extends Application {
    

    

    private Pane createMini(){
        Rectangle model = new Rectangle(100, 50, Color.BLUE);
        Line measureTape = new Line(0, 0, 0, 0);
        Text text = new Text("1.0in");
        Pane pane = new Pane(model,measureTape,text);

        Mini mini = new Mini(model, measureTape, pane,text);

        return mini.getPane();
    }

    
    private Parent createContent(){
        BorderPane root = new BorderPane();

        //tab pane
        VBox vbox = new VBox();

        Button button = new Button("hey");
        button.setOnMouseClicked(event2->{
            System.out.println("button clicke");
        });

        vbox.getChildren().addAll(button);
        root.setTop(vbox);
        
        //splitpane
        //left panel
        VBox leftpanel = new VBox();

        leftpanel.setMinWidth(50);
        leftpanel.setBackground(Background.fill(Color.LIGHTCYAN));


        //right sidePanel
        VBox rightpanel = new VBox();
        rightpanel.setMinWidth(200);
        rightpanel.setBackground(Background.fill(Color.LIGHTCYAN));

        

        Picture picture = new Picture("/custodian_guard.jpg");
        Stats stats = new Stats(
            new Movement(6),
            new Toughness(7)
        );
        DataSheet dataSheet = new DataSheet(picture,stats);

        PictureView pictureView = new PictureView(
                picture,
                rightpanel,
                new ImageView(new Image(getClass().getResourceAsStream(picture.getImagePath())))
        );

        GridPane gridPane = new GridPane();
        gridPane.setHgap(10);

        gridPane.add(new Label("M"), 0, 0);
        gridPane.add(new Label("T"), 1, 0);

        //stats
        gridPane.add(new Label("6"), 0, 1);
        gridPane.add(new Label("7"), 1, 1);

        gridPane.prefWidthProperty().bind(rightpanel.widthProperty());

        Accordion accordion = new Accordion();

        TitledPane pane1 = new TitledPane("Meele", new VBox());

        accordion.getPanes().addAll(pane1);
        rightpanel.getChildren().addAll(pictureView.getImageView(),gridPane,accordion);


        //board pane
        SplitPane splitPane = new SplitPane(leftpanel,this.makeBoardPane(),rightpanel);
        root.setCenter(splitPane);

        
        return root;
    }

    private Pane makeBoardPane(){
        //mini
        Model model = new Model(2,2,new Position(0,0));
        Board board = new Board(44,30,model);


        StackPane pane = new StackPane();
        pane.setBackground(Background.fill(Color.LIGHTGREEN));
        pane.setMinWidth(1000);

        //boardview
        Pane boardviewPane = new Pane();
        BoardView boardView = new BoardView(board,boardviewPane);

        pane.getChildren().addAll(boardView.getPane());

        return pane;
    }


    @Override
    public void start(Stage stage) {
        Scene scene = new Scene(this.createContent(), 640, 480);
        stage.setMaximized(true);
        stage.setScene(scene);
        stage.show();
    }
    	
    public static void main(String[] args) {
        launch(args);
    }
}
